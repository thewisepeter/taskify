<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taskify - Edit Task</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <h1>All Projects</h1>
    <ul>
        <% projects.forEach(project => { %>
            <li>
                <h2><%= project.name %></h2>
                <!-- Display other project details and provide links to view/edit/delete projects -->
                <a href="/projects/<%= project.id %>/tasks/new">Add Task</a>
                <a href="/projects/<%= project.id %>">View</a>
                <a href="/projects/<%= project.id %>/edit">Edit</a>
                <a href="#" onclick="event.preventDefault(); deleteProject('<%= project.id %>')">Delete</a>
                <script>
                    function deleteProject(projectId) {
                        if (confirm('Are you sure you want to delete this project?')) {
                            // Create a form dynamically to send a DELETE request
                            const form = document.createElement('form');
                            form.method = 'POST';
                            form.action = `/projects/${projectId}/delete`;
                            form.innerHTML = '<input type="hidden" name="_method" value="DELETE">';
                            document.body.appendChild(form);
                            form.submit();
                        }
                    }
                </script>
            </li>
        <% }); %>
    </ul>
</body>
</html>

